TCP握手时序列号是怎么算的？
TCP在连接的每一端都会生成一个随机的初始序列号
由于数据要被切成小段再编号发送
TCP通讯中是双向的
所以每个TCP报文都包含着客户端和服务端的序号
用来标识这个数据包的发送顺序
第一次握手是客户端主动发送的
所以客户端主动生成一个序号seq=x
第二次握手由服务端接受
所以服务端也主动生成一个序号seq=y
对于服务端来说，确认号增加一位
就是ack=x+1
第三次握手客户端就可以携带数据了
此时ack=y+1, seq=x+1
理解之后需要一字不拉的背出来
第一次握手：SYN,seq=x
第二次握手：SYN,ACK,seq=y,ack=x+1
第三次握手：ACK,seq=x+1,ack=y+1
可以发现
服务端的序列号就等价于客户端的确认号
因为客户端的序列号由服务端确认
而双方的确认号的用途则是
通知发送方，接收方已经收到了哪些数据
并且可以丢弃或重发未被确认的数据
/music xuebao.mp3
雪豹闭嘴